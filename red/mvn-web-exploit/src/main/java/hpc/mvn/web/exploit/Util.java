package hpc.mvn.web.exploit;
//----------
import java.io.BufferedReader;
import java.io.InputStreamReader;
import java.net.URL;
import java.net.URLConnection;
/**
 *
 * @author	Muhammad Nur Irsyad
 * @id		1807422020
 * @class	CCIT SEC 8 (TMJ)
 */
public class Util {
    //
    public static String[] jsonParser(String theUrl) {
        StringBuilder content = new StringBuilder();  
        String[] fin_arr_json = new String[4];
        String line;  		
        //----------
        try {  
            URL url = new URL(theUrl); // creating a url object  
            URLConnection urlConnection = url.openConnection(); // creating a urlconnection object  
            BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(urlConnection.getInputStream()));  
            while ((line = bufferedReader.readLine()) != null) {  
                content.append(line + "\n");  
            }  
            bufferedReader.close();  
        }  catch(Exception e) { e.printStackTrace(); } 
        //----------		 
        String[] arr_json = content.toString().split("[\\[\\{,\\]\\}:\\\"]+");
        for (int i = 0; i < (arr_json.length); i++) {
            if ((!arr_json[i].equals("")) && (i%2 == 0)) {
                    fin_arr_json[(i/2)-1] = arr_json[i];
            }
        } 
        return fin_arr_json;     
    }
}
